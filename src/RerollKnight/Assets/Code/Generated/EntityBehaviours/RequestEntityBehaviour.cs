//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by Code.CodeGeneration.Plugins.Behaviours.EntityBehaviourGenerator.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using UnityEngine;

public class RequestEntityBehaviour : EntityBehaviourBase
{
	[SerializeField] private RequestComponentBehaviourBase[] _componentBehaviours;
	private RequestEntity _entity;

	public RequestEntity Entity => _entity;

#if DEBUG
	private void Awake()
	{
		var actualComponentBehaviours = GetComponents<RequestComponentBehaviourBase>();
		if (actualComponentBehaviours.Length != _componentBehaviours.Length)
		{
			Debug.LogError("Not all component are added to the entity!");
		}
	}
#endif

	public override void Register()
	{
		_entity = Contexts.sharedInstance.request.CreateEntity();
		foreach (var component in _componentBehaviours)
		{
			component.AddToEntity(ref _entity);
		}
	}

	public override void CollectComponentsFromGameObject()
	{
		_componentBehaviours = GetComponents<RequestComponentBehaviourBase>();
	}
}
